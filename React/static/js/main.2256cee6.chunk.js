(this["webpackJsonppoling-frontend"]=this["webpackJsonppoling-frontend"]||[]).push([[0],{1:function(e,t,a){e.exports={adminheader:"main_adminheader__2CpKM",adminbody:"main_adminbody__1UVdV",admincontrols:"main_admincontrols__24Wpf",createbtn:"main_createbtn__1mvAf",mycan:"main_mycan__U9OXU",admincontent:"main_admincontent__XvgUu",app:"main_app__3i50_",backdrop:"main_backdrop__2jtXs",admincontainer:"main_admincontainer__2cqTA",logbtn:"main_logbtn__2__Uq",form:"main_form__1Ou3F",activebutton:"main_activebutton__3M-w3",adminform:"main_adminform__2udtF",adminpic:"main_adminpic__2pjcj",candidatepic:"main_candidatepic__5tySr",home:"main_home__2aiUa",mybtn:"main_mybtn__3OWli",homehead:"main_homehead__1EgRy",text:"main_text__3IvNH",footer:"main_footer__2FQb_",result:"main_result__1xVsh",resultt:"main_resultt__X-tQp"}},179:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),i=a(56),o=a.n(i),r=(a(63),a(4)),s=a(5),c=a(7),m=a(6),d=(a(64),a(1)),u=a.n(d),p=function(e){return l.a.createElement("div",{className:u.a.home},l.a.createElement("div",{className:u.a.homehead}),l.a.createElement("div",{className:u.a.text},"Polling Web Application"),l.a.createElement("div",{className:u.a.mybtn},"  ",l.a.createElement("button",{onClick:e.adminlogin},l.a.createElement("h3",null,"Log in"),l.a.createElement("p",null,"As Admin")),l.a.createElement("button",{onClick:e.candidatelogin},l.a.createElement("h3",null,"Log in"),l.a.createElement("p",null,"As Voter"))),l.a.createElement("div",{className:u.a.footer}))},h=function(e){return l.a.createElement("div",{onClick:e.onclick,className:u.a.backdrop})},g=a(2),v=a.n(g),f=a(19),E=(a(20),function(e){var t=e.name.map((function(t){return l.a.createElement("tr",{onClick:e.onclick},l.a.createElement("td",null,t))}));return l.a.createElement("table",null,t)}),b=a(30),_=function(e){var t=e.name.map((function(e){return e.name})),a=e.name.map((function(e){return e.votes}));console.log(a);var n={labels:t,datasets:[{label:"Number of Votes",data:Object(f.a)(a)}]};return l.a.createElement("div",{className:u.a.result},l.a.createElement(b.Bar,{data:n}))},k=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(e=t.call.apply(t,[this].concat(l))).state={email:e.props.username,password:"",create:!1,name:"",candidates:[],candidatename:"",livepoles:[],label:"",result:!1,servercandidates:[]},e.updat=function(){v.a.get("http://localhost:8081/getelection/"+e.state.email).then((function(t){console.log(t.data),e.setState({livepoles:t.data.map((function(e){return e.name}))})}))},e.getresult=function(t){var a=t.target.innerHTML;v.a.get("http://localhost:8081/result/"+t.target.innerHTML).then((function(t){console.log(t.data),e.setState({servercandidates:t.data,result:!0,label:a})}))},e.add=function(t){"Enter"==t.key&&e.setState({candidates:[].concat(Object(f.a)(e.state.candidates),[t.target.value]),candidatename:""})},e.startpole=function(){var t={name:e.state.name,adminname:e.state.email,candidates:e.state.candidates};v.a.post("http://localhost:8081/poll",t).then((function(t){e.setState({create:!1}),t.data&&(e.updat(),alert("Poll Started Successfully!"))})),e.setState({candidates:[],name:""})},e.setoff=function(){e.setState({result:!1})},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({email:this.props.username}),v.a.get("http://localhost:8081/getelection/"+this.state.email).then((function(t){console.log(t.data),e.setState({livepoles:t.data.map((function(e){return e.name}))})}))}},{key:"render",value:function(){var e=this,t=null,a=null;this.state.result?(t=l.a.createElement(_,{label:this.state.label,name:this.state.servercandidates}),a=l.a.createElement(h,{onclick:this.setoff})):(a=null,t=null);var n,i=this.state.candidates.map((function(e){return l.a.createElement("p",{className:u.a.mycan}," ",e," ")}));return n=l.a.createElement(E,{onclick:this.getresult,name:this.state.livepoles}),l.a.createElement("div",{className:u.a.adminbody},t,a,l.a.createElement("div",null,l.a.createElement("div",{className:u.a.adminheader},"Welcome, ",this.state.email),l.a.createElement("div",{className:u.a.admincontrols},l.a.createElement("button",{className:u.a.createbtn,onClick:function(){return e.setState({create:!0})}},"Create Poll")),this.state.create?l.a.createElement("div",null,l.a.createElement("div",{className:u.a.form},l.a.createElement("input",{type:"text",placeholder:"Poll Name",onChange:function(t){return e.setState({name:t.target.value})}}),i,l.a.createElement("input",{type:"text",onChange:function(t){return e.setState({candidatename:t.target.value})},value:this.state.candidatename,onKeyDown:this.add,placeholder:"Candidate Name"}),l.a.createElement("button",{onClick:this.startpole},"Submit"))):null,l.a.createElement("div",{className:u.a.admincontent},l.a.createElement("div",null,l.a.createElement("h3",null,"Live Polls"),n))))}}]),a}(n.Component),w=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(e=t.call.apply(t,[this].concat(l))).state={login:!0,email:"",password:"",authenticated:!1},e.signup=function(){e.setState({login:!1,email:"",password:""})},e.login=function(){e.setState({login:!0,email:"",password:""})},e.logging=function(){var t={email:e.state.email,password:e.state.password};v.a.post("http://localhost:8081/adminlogin",t).then((function(t){t.data?e.props.adminlogin(e.state.email):alert("Wrong Credentials")}))},e.signing=function(){var t={email:e.state.email,password:e.state.password,mypoles:{}};v.a.post("http://localhost:8081/adminsignup",t).then((function(e){e.data?alert("Successfully Registered"):alert("User name already exists")}))},e}return Object(s.a)(a,[{key:"render",value:function(){var e,t,a=this;return this.state.login?(e={backgroundColor:"greenyellow"},t={backgroundColor:"white"}):(t={backgroundColor:"greenyellow"},e={backgroundColor:"white"}),l.a.createElement("div",null,l.a.createElement("div",{className:u.a.admincontainer},l.a.createElement("div",{className:u.a.adminpic}),l.a.createElement("div",{className:u.a.adminform},l.a.createElement("div",{className:u.a.logbtn},l.a.createElement("button",{style:e,onClick:this.login},"Log in"),l.a.createElement("button",{style:t,onClick:this.signup},"Sign up")),this.state.login?l.a.createElement("div",{className:u.a.form},l.a.createElement("input",{value:this.state.email,placeholder:"Email",type:"email",onChange:function(e){return a.setState({email:e.target.value})}}),l.a.createElement("input",{value:this.state.password,placeholder:"Password",onChange:function(e){return a.setState({password:e.target.value})},type:"password"}),l.a.createElement("button",{onClick:this.logging},"Login")):l.a.createElement("div",{className:u.a.form},l.a.createElement("input",{value:this.state.email,placeholder:"Email",onChange:function(e){return a.setState({email:e.target.value})},type:"email"}),l.a.createElement("input",{value:this.state.password,placeholder:"Password",onChange:function(e){return a.setState({password:e.target.value})},type:"password"}),l.a.createElement("button",{onClick:this.signing},"Sign up")))))}}]),a}(n.Component),y=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(e=t.call.apply(t,[this].concat(l))).state={login:!0,email:"",password:"",authenticated:!1},e.signup=function(){e.setState({login:!1,email:"",password:""})},e.login=function(){e.setState({login:!0,email:"",password:""})},e.logging=function(){var t={email:e.state.email,password:e.state.password};v.a.post("http://localhost:8081/candidatelogin",t).then((function(t){t.data?e.props.voterlogin(e.state.email):alert("Wrong Credentials")}))},e.signing=function(){var t={email:e.state.email,password:e.state.password};v.a.post("http://localhost:8081/candidatesignup",t).then((function(e){e.data?alert("succesfully registered"):alert("signup fail")}))},e}return Object(s.a)(a,[{key:"render",value:function(){var e,t,a=this;return this.state.login?(e={backgroundColor:"greenyellow"},t={backgroundColor:"white"}):(t={backgroundColor:"greenyellow"},e={backgroundColor:"white"}),l.a.createElement("div",{className:u.a.admincontainer},l.a.createElement("div",{className:u.a.candidatepic}),l.a.createElement("div",{className:u.a.adminform},l.a.createElement("div",{className:u.a.logbtn},l.a.createElement("button",{style:e,onClick:this.login},"Log in"),l.a.createElement("button",{style:t,onClick:this.signup},"Sign up")),this.state.login?l.a.createElement("div",{className:u.a.form},l.a.createElement("input",{value:this.state.email,placeholder:"Email",type:"email",onChange:function(e){return a.setState({email:e.target.value})}}),l.a.createElement("input",{value:this.state.password,placeholder:"Password",onChange:function(e){return a.setState({password:e.target.value})},type:"password"}),l.a.createElement("button",{onClick:this.logging},"Login")):l.a.createElement("div",{className:u.a.form},l.a.createElement("input",{value:this.state.email,placeholder:"Email",onChange:function(e){return a.setState({email:e.target.value})},type:"email"}),l.a.createElement("input",{value:this.state.password,placeholder:"Password",onChange:function(e){return a.setState({password:e.target.value})},type:"password"}),l.a.createElement("button",{onClick:this.signing},"Sign up"))))}}]),a}(n.Component),C=function(e){var t=e.name.map((function(t){return l.a.createElement("p",{onClick:e.onclick},t.name)}));return l.a.createElement("div",{className:u.a.resultt},l.a.createElement("h2",null,"Click to Cast your Vote"),t)},S=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(e=t.call.apply(t,[this].concat(l))).state={email:e.props.username,password:"",create:!1,name:"",candidates:[],candidatename:"",livepoles:[],label:"",result:!1,servercandidates:[]},e.getresult=function(t){var a=t.target.innerHTML;v.a.get("http://localhost:8081/result/"+t.target.innerHTML).then((function(t){console.log(t.data),e.setState({servercandidates:t.data,result:!0,label:a})}))},e.setoff=function(){e.setState({result:!1})},e.vote=function(t){var a={cand:t.target.innerHTML};v.a.post("http://localhost:8081/cast",a).then((function(t){t.data?(alert("You Voted for "+a.cand),e.setState({result:!1})):alert("Your votes is'nt Casted")}))},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;v.a.get("http://localhost:8081/vote").then((function(t){console.log(t.data),e.setState({livepoles:t.data.map((function(e){return e.name}))})}))}},{key:"render",value:function(){var e=null,t=null;this.state.result?(e=l.a.createElement(C,{onclick:this.vote,name:this.state.servercandidates}),t=l.a.createElement(h,{onclick:this.setoff})):(t=null,e=null);this.state.candidates.map((function(e){return l.a.createElement("p",{className:u.a.mycan}," ",e," ")}));var a=null;return this.state.livepoles&&(a=l.a.createElement(E,{onclick:this.getresult,name:this.state.livepoles})),l.a.createElement("div",{className:u.a.adminbody},e,t,l.a.createElement("div",null,l.a.createElement("div",{className:u.a.adminheader},"Welcome, ",this.state.email),l.a.createElement("div",{className:u.a.admincontent},l.a.createElement("div",null,l.a.createElement("h3",null,"Live Polls"),a))))}}]),a}(n.Component),N=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(e=t.call.apply(t,[this].concat(l))).state={backdrop:!1,adminlogin:!1,candidatelogin:!1,username:"",password:"",adminauth:!1,voterauth:!1,home:!0},e.backdrop=!1,e.voterlogin=function(t){e.setState({adminauth:!1,username:t,voterauth:!0,backdrop:!1,home:!1})},e.toggleBackdrop=function(){e.setState({backdrop:!1,adminlogin:!1,candidatelogin:!1})},e.adminlogin=function(){e.setState({adminlogin:!0,candidatelogin:!1,backdrop:!0})},e.candidatelogin=function(){e.setState({candidatelogin:!0,adminlogin:!1,backdrop:!0})},e.adminauth=function(t){var a=t;e.setState({adminauth:!0,username:a,password:t.password,backdrop:!1,home:!1})},e}return Object(s.a)(a,[{key:"render",value:function(){this.state.backdrop?this.backdrop=l.a.createElement(h,{onclick:this.toggleBackdrop}):this.backdrop=null;var e=null;return this.state.adminlogin&&(e=l.a.createElement(w,{adminlogin:this.adminauth})),this.state.candidatelogin&&(e=l.a.createElement(y,{voterlogin:this.voterlogin})),this.state.adminauth&&(e=l.a.createElement(k,{username:this.state.username})),this.state.voterauth&&(e=l.a.createElement(S,{username:this.state.username})),l.a.createElement("div",{className:u.a.app},this.backdrop,e,this.state.home?l.a.createElement(p,{candidatelogin:this.candidatelogin,adminlogin:this.adminlogin}):null)}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(l.a.createElement(N,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},20:function(e,t,a){},58:function(e,t,a){e.exports=a(179)},63:function(e,t,a){},64:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"}},[[58,1,2]]]);
//# sourceMappingURL=main.2256cee6.chunk.js.map